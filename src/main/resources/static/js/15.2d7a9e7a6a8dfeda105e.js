webpackJsonp([15],{CbhC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("fZjL"),a=n.n(r),i=n("mvHQ"),s=n.n(i),o=n("Vo7i"),l=n("mw3O"),c=n.n(l);function u(e){return Object(o.a)({url:"/node/unschedule",method:"post",data:e,transformRequest:[function(e){return e=c.a.stringify(e)}]})}function f(e){return Object(o.a)({url:"/node/resume/schedule",method:"post",data:e,transformRequest:[function(e){return e=c.a.stringify(e)}]})}var d=n("LmKy"),p={name:"Node",data:function(){return{tableData:[],listLoading:!1,queryParams:{envId:"",pageNum:1,pageSize:10,nodeIPKey:"",labelKeyName:""},pages:1,total:1,envSelect:[],detailsDialog:!1,dialogData:{type:"add",row:{}},formData:{labelMapList:[{key:"",value:""}]},formDialog:!1,showYamlData:""}},components:{JsonEditor:n("mExr").a},filters:{labelMapText:function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+"="+e[n]+",");return t.slice(0,-1)}},methods:{addItem:function(){this.formData.labelMapList.push({key:"",value:""})},removeItem:function(e){if(1==this.formData.labelMapList.length&&(this.formData.labelMapList=[{key:"",value:""}]),this.formData.labelMapList.length>1){var t=this.formData.labelMapList.indexOf(e);-1!==t&&this.formData.labelMapList.splice(t,1)}},handleSizeChange:function(e){this.queryParams.pageSize=e},handleCurrentChange:function(e){this.queryParams.pageNum=e},openDialog:function(e,t){var n,r=this;if("resumeSchedule"!=t&&"unSchedule"!=t||this.$confirm("确定要执行操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r.commentRequest(e,t)}).catch(function(){r.$message({type:"info",message:"已取消"})}),"detail"==t&&(n={envId:this.queryParams.envId,nodeName:e.nodeName},Object(o.a)({url:"/node/detail",method:"get",params:n})).then(function(t){var n=t.data.data;if(200===t.data.code)r.dialogData={type:"detail",row:e},r.showYamlData=s()(n),r.detailsDialog=!0;else{var a=t.data.msg;r.$message({message:a,type:"error"}),"未查询到任何数据"==a&&(r.showYamlData={})}}),"updateLabel"==t){this.dialogData={type:"updateLabel",row:e},this.formDialog=!0;var i=e.labelMap;if(this.formData.labelMapList=[{key:"",value:""}],0!=a()(i).length)for(var l in this.formData.labelMapList=[],i)if(i.hasOwnProperty(l)){var c={key:l,value:i[l]};this.formData.labelMapList.push(c)}}},closeDetailsDialog:function(){this.dialogData={type:"add",row:{}}},closeFormDialog:function(){this.dialogData={type:"add",row:{}},this.formData.labelMapList=[{key:"",value:""}],this.formDialog=!1},commentRequest:function(e,t){var n=this,r={resumeSchedule:f,unSchedule:u},a={envId:this.queryParams.envId,nodeName:e.nodeName};r[t](a).then(function(e){var t=e.data.code;200==t?n.$message({message:e.data.msg,type:"success"}):n.$message({message:e.data.msg,type:"error"}),200==t&&n.getList()})},updateLabel:function(){var e=this,t={};try{this.formData.labelMapList.forEach(function(n){var r=n.key,a=n.value;if(!a||!r){if(a||r||1!=e.formData.labelMapList.length)throw new Error("Error");return!0}t[r]=a})}catch(e){return this.$message({message:"字段不能为空",type:"error"}),!1}(function(e){var t={url:"/node/updateLabel",method:"post",data:e,headers:{"Content-Type":"application/json"}};return t.transformRequest=[function(e){return e=s()(e)}],Object(o.a)(t)})({envId:this.queryParams.envId,nodeName:this.dialogData.row.nodeName,labelMap:t}).then(function(t){var n=t.data.code;200==n?e.$message({message:t.data.msg,type:"success"}):e.$message({message:t.data.msg,type:"error"}),200==n&&(e.getList(),e.formDialog=!1)})},getEnvSelectList:function(e){var t=this,n=this;Object(d.c)().then(function(r){200==r.data.code?(n.envSelect=r.data.data,"created"==e&&(n.queryParams.envId="",0!=n.envSelect.length?(n.queryParams.envId=n.envSelect[0].id,t.$nextTick(function(){n.envPermission=n.$store.state.user.permissionList.filter(function(e){return e.envId==n.envSelect[0].id})[0]})):n.envPermission=n.$store.state.user.permissionList.filter(function(e){return e.envId==n.queryParams.envId})[0])):n.envSelect=[],n.getList()})},permissionCheck:function(e){var t=[];return void 0!=this.envPermission&&this.envPermission.permissionSet&&(t=this.envPermission.permissionSet),t.includes(e)},getList:function(){var e,t=this;t.listLoading=!0,(e={envId:t.queryParams.envId,labelKeyName:t.queryParams.labelKeyName,nodeIPKey:t.queryParams.nodeIPKey},Object(o.a)({url:"/node/infos",method:"get",params:e})).then(function(e){var n=e.data.data,r=e.data.code;200===r?(t.tableData=n,t.total=n.length,t.queryParams.pageNum=1,t.queryParams.pageSize=10):"未查询到任何数据"!=e.data.msg&&201!=r||(t.tableData=[],t.total=0,t.queryParams.pageNum=1,t.queryParams.pageSize=10);setTimeout(function(){t.listLoading=!1},200)})}},created:function(){this.getEnvSelectList("created")}},g={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-main",[n("el-row",{staticClass:"filter-container",attrs:{type:"flex"}},[n("span",{staticClass:"row-span-class"},[e._v("环境")]),e._v(" "),n("el-select",{staticStyle:{width:"10%"},attrs:{placeholder:"请选择",size:"medium"},on:{change:e.getList},model:{value:e.queryParams.envId,callback:function(t){e.$set(e.queryParams,"envId",t)},expression:"queryParams.envId"}},e._l(e.envSelect,function(e,t){return n("el-option",{key:t,attrs:{label:e.envName,value:e.id}})}),1),e._v(" "),n("el-input",{staticClass:"input-class",attrs:{clearable:"",placeholder:"输入nodeIP"},model:{value:e.queryParams.nodeIPKey,callback:function(t){e.$set(e.queryParams,"nodeIPKey",t)},expression:"queryParams.nodeIPKey"}}),e._v(" "),n("el-input",{staticClass:"input-class",attrs:{clearable:"",placeholder:"输入标签"},model:{value:e.queryParams.labelKeyName,callback:function(t){e.$set(e.queryParams,"labelKeyName",t)},expression:"queryParams.labelKeyName"}}),e._v(" "),n("el-button",{staticClass:"span-other",attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.getList}},[e._v("查询")])],1),e._v(" "),n("el-card",[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"appTable",staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.queryParams.pageNum-1)*e.queryParams.pageSize,e.queryParams.pageNum*e.queryParams.pageSize),"highlight-current-row":!0,"element-loading-text":"拼命加载中..."}},[n("el-table-column",{attrs:{align:"center",label:"序号",type:"index",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.$index+1+e.queryParams.pageSize*(e.queryParams.pageNum-1))+"\n          ")]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"nodeIP",prop:"nodeIP"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"nodeName",prop:"nodeName"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"labelMap",prop:"labelMap",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("labelMapText")(t.row.labelMap))+"\n          ")]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"podCIDR",prop:"podCIDR"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"roleName",prop:"roleName",width:"100"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"status",prop:"status",width:"100"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"createTime",prop:"createTime",width:"180"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.permissionCheck("base_config_node_details")?n("el-button",{staticClass:"button-m-small",attrs:{size:"mini",type:"success"},on:{click:function(n){return e.openDialog(t.row,"detail")}}},[e._v("详情\n            ")]):e._e(),e._v(" "),e.permissionCheck("base_config_node_unSchedule")?n("el-button",{staticClass:"button-m-small",attrs:{size:"mini",type:"primary"},on:{click:function(n){return e.openDialog(t.row,"unSchedule")}}},[e._v("隔离\n            ")]):e._e(),e._v(" "),e.permissionCheck("base_config_node_resumeSchedule")?n("el-button",{staticClass:"button-m-small",attrs:{size:"mini",type:"primary"},on:{click:function(n){return e.openDialog(t.row,"resumeSchedule")}}},[e._v("恢复\n            ")]):e._e(),e._v(" "),e.permissionCheck("base_config_node_updateLabel")?n("el-button",{staticClass:"button-m-small",attrs:{size:"mini",type:"primary"},on:{click:function(n){return e.openDialog(t.row,"updateLabel")}}},[e._v("更新\n            ")]):e._e()]}}])})],1)],1),e._v(" "),n("el-footer",{directives:[{name:"show",rawName:"v-show",value:0!=e.tableData.length,expression:"tableData.length != 0"}]},[n("div",{staticClass:"pagination-container"},[n("el-pagination",{attrs:{"current-page":e.queryParams.pageNum,"page-size":e.queryParams.pageSize,"page-sizes":[5,10,15,30,50],total:e.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)]),e._v(" "),n("el-dialog",{attrs:{visible:e.detailsDialog,title:"详情",top:"5vh","close-on-click-modal":e.elDialogCloseOnClickModal,"destroy-on-close":e.elDialogDestroyOnClose},on:{"update:visible":function(t){e.detailsDialog=t},close:e.closeDetailsDialog}},[n("el-row",{staticClass:"details-row",attrs:{gutter:10,justify:"space-between",type:"flex"}},[n("el-col",{attrs:{span:12}},[n("span",{staticClass:"details-span"},[e._v("nodeIP：")]),e._v(e._s(e.dialogData.row.nodeIP)),n("span")]),e._v(" "),n("el-col",{attrs:{span:12}},[n("span",{staticClass:"details-span"},[e._v("nodeName：")]),e._v(e._s(e.dialogData.row.nodeName)+"\n        ")])],1),e._v(" "),n("el-row",{staticClass:"details-row",attrs:{gutter:10,justify:"space-between",type:"flex"}},[n("el-col",{attrs:{span:12}},[n("span",{staticClass:"details-span"},[e._v("podCIDR：")]),e._v(e._s(e.dialogData.row.podCIDR)+"\n        ")]),e._v(" "),n("el-col",{attrs:{span:12}},[n("span",{staticClass:"details-span"},[e._v("roleName：")]),e._v(e._s(e.dialogData.row.roleName))])],1),e._v(" "),n("el-row",{staticClass:"details-row",attrs:{gutter:10,justify:"space-between",type:"flex"}},[n("el-col",{attrs:{span:12}},[n("span",{staticClass:"details-span"},[e._v("status：")]),e._v(e._s(e.dialogData.row.status)+"\n        ")]),e._v(" "),n("el-col",{attrs:{span:12}},[n("span",{staticClass:"details-span"},[e._v("createTime：")]),e._v(e._s(e.dialogData.row.createTime)+"\n        ")])],1),e._v(" "),n("el-row",{staticClass:"details-row",attrs:{gutter:10,justify:"space-between",type:"flex"}},[n("el-col",{attrs:{span:12}},[n("span",{staticClass:"details-span"},[e._v("labelMap：")]),e._v(e._s(e._f("labelMapText")(e.dialogData.row.labelMap))+"\n        ")])],1),e._v(" "),n("el-row",{staticStyle:{padding:"10px 0"}},[n("json-editor",{staticStyle:{height:"50vh"},attrs:{viewOnly:!1},model:{value:e.showYamlData,callback:function(t){e.showYamlData=t},expression:"showYamlData"}})],1)],1),e._v(" "),n("el-dialog",{attrs:{visible:e.formDialog,title:"更新labelMap",top:"5vh","close-on-click-modal":e.elDialogCloseOnClickModal,"destroy-on-close":e.elDialogDestroyOnClose},on:{"update:visible":function(t){e.formDialog=t},close:e.closeFormDialog}},[n("el-form",{ref:"addModule",staticStyle:{width:"100%","max-height":"70vh","overflow-y":"auto","overflow-x":"hidden",padding:"0 5px"},attrs:{model:e.formData,"label-position":"left","label-width":"100px"}},e._l(e.formData.labelMapList,function(t,r){return n("el-row",{key:r,attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"key"}},[n("el-input",{model:{value:t.key,callback:function(n){e.$set(t,"key",n)},expression:"item.key"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"value","label-width":"85px"}},[n("el-row",{attrs:{gutter:5,type:"flex"}},[n("el-col",{attrs:{span:16}},[n("el-input",{model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"item.value"}})],1),e._v(" "),n("el-col",{attrs:{span:4}},[n("el-button",{attrs:{circle:"",icon:"el-icon-delete",type:"danger"},on:{click:function(n){return e.removeItem(t)}}})],1),e._v(" "),n("el-col",{attrs:{span:4}},[n("el-button",{attrs:{circle:"",icon:"el-icon-plus",type:"primary"},on:{click:e.addItem}})],1)],1)],1)],1)],1)}),1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.closeFormDialog}},[e._v("关闭")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.updateLabel}},[e._v("确定")])],1)],1)],1)],1)},staticRenderFns:[]};var v=n("VU/8")(p,g,!1,function(e){n("ZLhH")},"data-v-7c298ba5",null);t.default=v.exports},Cdx3:function(e,t,n){var r=n("sB3e"),a=n("lktj");n("uqUo")("keys",function(){return function(e){return a(r(e))}})},ZLhH:function(e,t){},fZjL:function(e,t,n){e.exports={default:n("jFbC"),__esModule:!0}},jFbC:function(e,t,n){n("Cdx3"),e.exports=n("FeBl").Object.keys},mExr:function(e,t,n){"use strict";var r=n("mvHQ"),a=n.n(r),i=n("pFYg"),s=n.n(i),o={format:"{reason} at line {line}",symbols:{colon:"colon",comma:"comma",semicolon:"semicolon",slash:"slash",backslash:"backslash",brackets:{round:"round brackets",square:"square brackets",curly:"curly brackets",angle:"angle brackets"},period:"period",quotes:{single:"single quote",double:"double quote",grave:"grave accent"},space:"space",ampersand:"ampersand",asterisk:"asterisk",at:"at sign",equals:"equals sign",hash:"hash",percent:"percent",plus:"plus",minus:"minus",dash:"dash",hyphen:"hyphen",tilde:"tilde",underscore:"underscore",bar:"vertical bar"},types:{key:"key",value:"value",number:"number",string:"string",primitive:"primitive",boolean:"boolean",character:"character",integer:"integer",array:"array",float:"float"},invalidToken:{tokenSequence:{prohibited:"'{firstToken}' token cannot be followed by '{secondToken}' token(s)",permitted:"'{firstToken}' token can only be followed by '{secondToken}' token(s)"},termSequence:{prohibited:"A {firstTerm} cannot be followed by a {secondTerm}",permitted:"A {firstTerm} can only be followed by a {secondTerm}"},double:"'{token}' token cannot be followed by another '{token}' token",useInstead:"'{badToken}' token is not accepted. Use '{goodToken}' instead",unexpected:"Unexpected '{token}' token found"},brace:{curly:{missingOpen:"Missing '{' open curly brace",missingClose:"Open '{' curly brace is missing closing '}' curly brace",cannotWrap:"'{token}' token cannot be wrapped in '{}' curly braces"},square:{missingOpen:"Missing '[' open square brace",missingClose:"Open '[' square brace is missing closing ']' square brace",cannotWrap:"'{token}' token cannot be wrapped in '[]' square braces"}},string:{missingOpen:"Missing/invalid opening string '{quote}' token",missingClose:"Missing/invalid closing string '{quote}' token",mustBeWrappedByQuotes:"Strings must be wrapped by quotes",nonAlphanumeric:"Non-alphanumeric token '{token}' is not allowed outside string notation",unexpectedKey:"Unexpected key found at string position"},key:{numberAndLetterMissingQuotes:"Key beginning with number and containing letters must be wrapped by quotes",spaceMissingQuotes:"Key containing space must be wrapped by quotes",unexpectedString:"Unexpected string found at key position"},noTrailingOrLeadingComma:"Trailing or leading commas in arrays and objects are not permitted"},l={dark_vscode_tribute:{default:"#D4D4D4",background:"#1E1E1E",background_warning:"#1E1E1E",string:"#CE8453",number:"#B5CE9F",colon:"#49B8F7",keys:"#9CDCFE",keys_whiteSpace:"#AF74A5",primitive:"#6392C6"},light_mitsuketa_tribute:{default:"#D4D4D4",background:"#FCFDFD",background_warning:"#FEECEB",string:"#FA7921",number:"#70CE35",colon:"#49B8F7",keys:"#59A5D8",keys_whiteSpace:"#835FB6",primitive:"#386FA4"}},c=n("fZjL"),u=n.n(c);function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=[];function a(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=void 0;if(null!==n&&i<n)T(e)&&(s=u()(e)).forEach(function(r){a(e[r],t,n,i+1)});else{if(null!==n&&i==n)return 0==n?void(r=a(e,t,null,i)):void(T(e)&&r.push(a(e,t,n,i+1)));switch(j(e)){case"array":var o=[];if(s=u()(e),null===t||i<t)for(var l=0,c=s.length;l<c;l++){var f=s[l],d=e[f];o[f]=a(d,t,n,i+1)}return o;case"object":var p={};if(s=u()(e),null===t||i<t)for(l=0,c=s.length;l<c;l++){var g=s[l],v=e[g];p[g]=a(v,t,n,i+1)}return p;case"string":return""+e;case"number":return 0+e;case"boolean":return!!e;case"null":return null;case"undefined":return}}}return null===n?a(e,t,n,0):(a(e,t,n,0),r)}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("string"===j(t)&&""!==t){var r=[];return function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;a===n&&(r[r.length]=i);if(null!==s&&o>=s)return!1;if(T(t))for(var l=0,c=u()(t),f=c.length;l<f;l++){var d=c[l];e(t[d],n,d,(""===i?i:i+".")+d,s,o+1)}}(e,t,"","",n),0!==(r=r.map(function(e){return"boolean"===j(e)?e:""===e?e:((e=e.split(".")).pop(),e=e.join("."))})).length&&r}}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("string"===j(t)&&""!==t){var r=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(r===n)return r;var s=!1;if(null!==a&&i>=a)return s;if(T(t))for(var o=0,l=u()(t),c=l.length;o<c;o++){var f=l[o],d=e(t[f],n,f,a,i+1);if(d){s=(r=""===r?r:r+".")+d;break}}return s}(e,t,"",n,0);return"boolean"===j(r)?r:""===r?r:((r=r.split(".")).pop(),r=r.join("."))}}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!m(t=h(t)))return function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(C(t,[n]))return m(t[n]);if(null!==r&&a>=r)return!1;if(T(t))for(var i=0,s=u()(t),o=s.length;i<o;i++)if(e(t[s[i]],n,r,a+1))return!0;return!1}(e,t,n)}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!m(t=h(t)))return function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(C(t,[n]))return k(t[n]);if(null!==r&&a>=r)return!1;if(T(t))for(var i=0,s=u()(t),o=s.length;i<o;i++)if(e(t[s[i]],n,r,a+1))return!0;return!1}(e,t,n,0)}function h(e){var t=b(e);return!(t>1)&&(1===t?u()(e)[0]:0===t&&["string","number"].indexOf(j(e))>-1&&e)}function k(e){return!m(e)}function m(e){return!1===function(e){return T(e)?e:!(["null","undefined"].indexOf(j(e))>-1)&&!(["",0,!1].indexOf(e)>-1)&&e}(e)}function b(e){return-1===["array","object"].indexOf(j(e))?0:u()(e).length}function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(D(e,t))return!0;if(T(t)&&q(e,t)&&C(e,u()(t))&&D(O(e,u()(t)),t))return!0;if((null===n||r<n)&&T(e))for(var a=0,i=u()(e),s=i.length;a<s;a++){if(y(e[i[a]],t,n,r+1))return!0}return!1}function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=w(e,t,n);if(!1!==r)return r.map(function(n){if(""===n)return e;n=n.split("."),-1===["array","object"].indexOf(j(t))&&n.splice(-1,1);var r=e;return Array.isArray(n)?(n.forEach(function(e){r=r[e]}),r):r[n]})}function w(e,t){var n=[];return function e(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments[3],s=arguments[4];T(r)&&q(t,r)&&C(t,u()(r))&&D(O(t,u()(r)),r)&&(n[n.length]=a);D(t,r)&&(n[n.length]=a);if(null!==i&&s>=i)return!1;if(T(t))for(var o=0,l=u()(t),c=l.length;o<c;o++){var f=l[o];e(t[f],r,(""===a?a:a+".")+f,i,s+1)}}(e,t,"",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,0),0!==n.length&&n}function x(e,t){return function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments[3],i=arguments[4];if(T(n)&&q(t,n)&&C(t,u()(n))&&D(O(t,u()(n)),n))return r;if(D(t,n))return r;var s=!1;if(null!==a&&i>=a)return s;if(T(t))for(var o=0,l=u()(t),c=l.length;o<c;o++){var f=l[o],d=e(t[f],n,f,a,i+1);if(d){s=(r=""===r?r:r+".")+d;break}}return s}(e,t,"",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,0)}function O(e,t){var n=j(e);if(-1!==["array","object"].indexOf(n)&&0!==t.length){var r;switch(n){case"object":r={},t.forEach(function(t){t in e&&(r[t]=e[t])});break;case"array":r=[],t.forEach(function(t){t in e&&r.push(e[t])})}return r}}function C(e,t){var n=t.length;if(0===n||!T(e))return!1;for(var r=u()(e),a=!0,i=0;i<n;i++){var s=""+t[i];if(-1===r.indexOf(s)){a=!1;break}}return a}function T(e){return-1!==["array","object"].indexOf(j(e))&&0!==u()(e).length}function D(e,t){var n=S(e,t);if(!1===n)return n;if(-1===["array","object"].indexOf(n))return e===t;for(var r=u()(e),a=r.length,i=!0,s=0;s<a;s++){var o=r[s],l=D(e[o],t[o]);if(!1===l){i=l;break}}return i}function S(e,t){var n=q(e,t);if(!1===n)return!1;if(["array","object"].indexOf(n)>-1){var r=u()(e),a=u()(t),i=r.length;if(i!==a.length)return!1;if(0===i)return!0;for(var s=0;s<i;s++)if(r[s]!==a[s])return!1}return n}function q(e,t){var n=j(e);return n===j(t)&&n}function j(e){if(null===e)return"null";var t=void 0===e?"undefined":s()(e);return"object"===t&&Array.isArray(e)?"array":t}var A={getType:function(e){return j(e)},sameType:function(e,t){return q(e,t)},sameStructure:function(e,t){return S(e,t)},identical:function(e,t){return D(e,t)},isIterable:function(e){return T(e)},containsKeys:function(e,t){return C(e,t)},trim:function(e,t){return O(e,t)},locate:function(e,t,n){return x(e,t,n)},deepGet:function(e,t,n){return function(e,t){var n=x(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null);if(!1!==n){if(""===n)return e;n=n.split("."),-1===["array","object"].indexOf(j(t))&&n.splice(-1,1);var r=e;return Array.isArray(n)?(n.forEach(function(e){r=r[e]}),r):r[n]}}(e,t,n)},locateAll:function(e,t,n){return w(e,t,n)},deepFilter:function(e,t,n){return _(e,t,n)},exists:function(e,t,n){return y(e,t,n)},onlyExisting:function(e,t,n){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("array"===j(t)){var r=[];return t.forEach(function(t){y(e,t,n)&&r.push(t)}),r}if("object"===j(t)){var a={};return u()(t).forEach(function(r){var i=t[r];y(e,i,n)&&(a[r]=i)}),a}if(y(e,t,n))return t}(e,t,n)},onlyMissing:function(e,t,n){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("array"===j(t)){var r=[];return t.forEach(function(t){y(e,t,n)||r.push(t)}),r}if("object"===j(t)){var a={};return u()(t).forEach(function(r){var i=t[r];y(e,i,n)||(a[r]=i)}),a}if(!y(e,t,n))return t}(e,t,n)},length:function(e){return b(e)},isFalsy:function(e){return m(e)},isTruthy:function(e){return k(e)},foundTruthy:function(e,t,n){return v(e,t,n)},onlyTruthy:function(e,t,n,r){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if("array"===j(t)){var a=[];return t.forEach(function(t){var i=_(e,t);k(i)&&v(i,n,r)&&a.push(t)}),a}if("object"===j(t)){var i={};return u()(t).forEach(function(a){var s=t[a],o=_(e,s);k(o)&&v(o,n,r)&&(i[a]=s)}),i}if(v(e,n,r))return t}(e,t,n,r)},foundFalsy:function(e,t,n){return g(e,t,n)},onlyFalsy:function(e,t,n,r){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if("array"===j(t)){var a=[];return t.forEach(function(t){var i=_(e,t);k(i)&&g(i,n,r)&&a.push(t)}),a}if("object"===j(t)){var i={};return u()(t).forEach(function(a){var s=t[a],o=_(e,s);k(o)&&g(o,n,r)&&(i[a]=s)}),i}if(g(e,n,r))return t}(e,t,n,r)},countMatches:function(e,t,n,r){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=null===n,i=null===r,s=w(e,t,a&&i?null:a||i?n||r:n<r?n:r);if(!1===s)return 0;if(null===n)return s.length;if("number"===j(n)){var o=0;return s.forEach(function(e){(e=e.split(".")).length===n&&o++}),o}}(e,t,n,r)},matchDepth:function(e,t,n){return function(e,t){var n=x(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null);return!1!==n&&(""===n?0:(n=n.split(".")).length)}(e,t,n)},maxDepth:function(e,t){return function(e){var t=0;return function e(n,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t<a&&(t=a),null!==r&&a>=r||T(n)&&u()(n).forEach(function(t){e(n[t],r,a+1)})}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null),t}(e,t)},locate_Key:function(e,t,n){return p(e,t,n)},deepGet_Key:function(e,t,n){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("string"===j(t)&&""!==t){var r=p(e,t,n);if(!1!==r){""===r?r=t:r+="."+t,r=r.split(".");var a=e;return Array.isArray(r)?(r.forEach(function(e){a=a[e]}),a):a[r]}}}(e,t,n)},locateAll_Key:function(e,t,n){return d(e,t,n)},deepFilter_Key:function(e,t,n){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("string"===j(t)&&""!==t){var r=d(e,t,n);if(!1!==r)return r.map(function(n){if(!1!==n){""===n?n=t:n+="."+t,n=n.split(".");var r=e;return Array.isArray(n)?(n.forEach(function(e){r=r[e]}),r):r[n]}})}}(e,t,n)},deepClone:function(e,t,n){return f(e,t,n)},renameKey:function(e,t,n,r){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if("string"===j(t)&&"string"===j(n)&&""!==t&&""!==n){var a=!1;return function e(t,n,r,i){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=void 0;switch(j(t)){case"array":for(var l=[],c=0,f=(o=u()(t)).length;c<f;c++){var d=o[c],p=t[d];l[d]=e(p,n,r,i,s+1)}return l;case"object":var g={};for(c=0,f=(o=u()(t)).length;c<f;c++){var v=o[c],h=t[v];(null===i||s<i)&&(a||v===n&&(v=r,a=!0)),g[v]=e(h,n,r,i,s+1)}return g;case"string":return""+t;case"number":return 0+t;case"boolean":return!!t;case"null":return null;case"undefined":return}}(e,t,n,r,0)}}(e,t,n,r)},renameKeys:function(e,t,n,r){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if("string"===j(t)&&"string"===j(n)&&""!==t&&""!==n)return function e(t,n,r,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=void 0;switch(j(t)){case"array":for(var o=[],l=0,c=(s=u()(t)).length;l<c;l++){var f=s[l],d=t[f];o[f]=e(d,n,r,a,i+1)}return o;case"object":var p={};for(l=0,c=(s=u()(t)).length;l<c;l++){var g=s[l],v=t[g];(null===a||i<a)&&g===n&&(g=r),p[g]=e(v,n,r,a,i+1)}return p;case"string":return""+t;case"number":return 0+t;case"boolean":return!!t;case"null":return null;case"undefined":return}}(e,t,n,r,0)}(e,t,n,r)},deepRemove_Key:function(e,t,n){return function(e,t,n){if("string"===j(t)&&""!==t){var r=f(e),a=p(r,t,n);if(!1===a)return r;""===a?a=t:a+="."+t,a=a.split(".");var i=r;return Array.isArray(a)||delete i[a],a.forEach(function(e,t){t<a.length-1?i=i[e]:delete i[e]}),r}}(e,t,n)},deepRemoveAll_Key:function(e,t,n){return function(e,t,n){if("string"===j(t)&&""!==t){var r=f(e),a=d(r,t,n);return a===[]||!1===a?r:(a.forEach(function(e){""===e?e=t:e+="."+t,e=e.split(".");var n=r;Array.isArray(e)||delete n[e];for(var a=0;a<e.length;a++){var i=e[a];if(!(i in n))break;a<e.length-1?n=n[i]:delete n[i]}}),r)}}(e,t,n)}},L=function(e,t){return t?u()(t).reduce(function(e,n){return e.replace(new RegExp("\\{"+n+"\\}","gi"),function(e){return Array.isArray(e)?e.join(", "):"string"==typeof e?e:""+e}(t[n]))},e):e},N={data:function(){return{colors:l.light_mitsuketa_tribute,labels:0,error:!1,markup:""}},props:{viewOnly:!1,value:String},watch:{value:function(e){this.initData(e)}},methods:{initData:function(e){if(!([null,void 0,""].indexOf(e)>-1)&&"string"===A.getType(e)){var t;t=JSON.parse(e);var n=this.tokenize(t);n&&(this.markup=n.markup,this.labels=n.lines-1)}},onKeyPress:function(e){this.viewOnly?this.stopEvent(e):this.setUpdateTime()},onClick:function(e){this.stopEvent(e),this.viewOnly},onBlur:function(e){this.stopEvent(e),this.viewOnly||this.setUpdateTime()},onScroll:function(e){this.$refs.refLabels.scrollTop=e.target.scrollTop},onPaste:function(e){if(this.viewOnly)this.stopEvent(e);else{e.preventDefault();var t=e.clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,t),this.update()}},onKeyDown:function(e){switch(e.key){case"Tab":if(this.stopEvent(e),this.viewOnly)break;document.execCommand("insertText",!1,"  "),this.setUpdateTime();break;case"Backspace":case"Delete":this.viewOnly&&this.stopEvent(),this.setUpdateTime();break;case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":this.setUpdateTime();break;case"a":case"c":default:this.viewOnly&&this.stopEvent()}},stopEvent:function(e){e&&(e.preventDefault(),e.stopPropagation())},newSpan:function(e,t,n){var r=this.colors,a=t.type,i=t.string,s="";switch(a){case"string":case"number":case"primitive":case"error":s=r[t.type];break;case"key":s=" "===i?r.keys_whiteSpace:r.keys;break;case"symbol":s=":"===i?r.colon:r.default;break;default:s=r.default}return i.length!==i.replace(/</g,"").replace(/>/g,"").length&&(i="<xmp style=display:inline;>"+i+"</xmp>"),'<span type="'+a+'" value="'+i+'" depth="'+n+'" style="color:'+s+'">'+i+"</span>"},getCursorPosition:function(e){var t=this,n=window.getSelection(),r=-1,a=0,i=void 0;if(n.focusNode&&function(e){for(;null!==e;){if(e===t.$refs.refContent)return!0;e=e.parentNode}return!1}(n.focusNode))for(i=n.focusNode,r=n.focusOffset;i&&i!==this.$refs.refContent;)if(i.previousSibling)i=i.previousSibling,e&&"BR"===i.nodeName&&a++,r+=i.textContent.length;else if(null===(i=i.parentNode))break;return r+a},setCursorPosition:function(e){var t=this;if(!([!1,null,void 0].indexOf(e)>-1)){e>0?function(e){if(!(e<0)){var n=window.getSelection(),r=function e(t,n,r){if(r||((r=document.createRange()).selectNode(t),r.setStart(t,0)),0===n.count)r.setEnd(t,n.count);else if(t&&n.count>0)if(t.nodeType===Node.TEXT_NODE)t.textContent.length<n.count?n.count-=t.textContent.length:(r.setEnd(t,n.count),n.count=0);else for(var a=0;a<t.childNodes.length&&(r=e(t.childNodes[a],n,r),0!==n.count);a++);return r}(t.$refs.refContent,{count:e});r&&(r.collapse(!1),n.removeAllRanges(),n.addRange(r))}}(e):this.$refs.refContent.focus()}},scheduledUpdate:function(){var e=this.updateTime;!1!==e&&(e>(new Date).getTime()||this.update())},setUpdateTime:function(){this.updateTime=(new Date).getTime()+1e3},update:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.updateTime=!1;var n=this.$refs.refContent,r=this.tokenize(n);if(r){this.error=r.error,this.markup=r.markup,this.error||this.$emit("input",r.jsString);var a=this.getCursorPosition(r.error)+t;this.$nextTick(function(){e.setCursorPosition(a)}),this.labels=r.lines-1}},renderErrorMessage:function(){return L(o.format,this.error)},tokenize:function(e){if("object"!==(void 0===e?"undefined":s()(e)))return console.error("tokenize() expects object type properties only. Got '"+(void 0===e?"undefined":s()(e))+"' type instead.");var t,n=o,r=this.newSpan;if("nodeType"in e){var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={active:!1,string:"",number:"",symbol:"",space:"",delimiter:"",quarks:[]};function r(e,r){switch(r){case"symbol":case"delimiter":n.active&&n.quarks.push({string:n[n.active],type:t+"-"+n.active}),n[n.active]="",n.active=r,n[n.active]=e;break;default:r!==n.active||[n.string,e].indexOf("\n")>-1?(n.active&&n.quarks.push({string:n[n.active],type:t+"-"+n.active}),n[n.active]="",n.active=r,n[n.active]=e):n[r]+=e}}for(var a=0;a<e.length;a++){var i=e.charAt(a);switch(i){case'"':case"'":r(i,"delimiter");break;case" ":case" ":r(i,"space");break;case"{":case"}":case"[":case"]":case":":case",":r(i,"symbol");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":"string"===n.active?r(i,"string"):r(i,"number");break;case"-":if(a<e.length-1&&"0123456789".indexOf(e.charAt(a+1))>-1){r(i,"number");break}case".":if(a<e.length-1&&a>0&&"0123456789".indexOf(e.charAt(a+1))>-1&&"0123456789".indexOf(e.charAt(a-1))>-1){r(i,"number");break}default:r(i,"string")}}return n.active&&(n.quarks.push({string:n[n.active],type:t+"-"+n.active}),n[n.active]="",n.active=!1),n.quarks},l=function(e,t){var n="",r="",a=!1;switch(t){case"primitive":if(-1===["true","false","null","undefined"].indexOf(e))return!1;break;case"string":if(e.length<2)return!1;if(n=e.charAt(0),r=e.charAt(e.length-1),-1===(a="'\"".indexOf(n)))return!1;if(n!==r)return!1;for(var i=0;i<e.length;i++)if(i>0&&i<e.length-1&&e.charAt(i)==="'\""[a]&&"\\"!==e.charAt(i-1))return!1;break;case"key":if(0===e.length)return!1;if(n=e.charAt(0),r=e.charAt(e.length-1),(a="'\"".indexOf(n))>-1){if(1===e.length)return!1;if(n!==r)return!1;for(i=0;i<e.length;i++)if(i>0&&i<e.length-1&&e.charAt(i)==="'\""[a]&&"\\"!==e.charAt(i-1))return!1}else for(i=0;i<"'\"`.,:;{}[]&<>=~*%\\|/-+!?@^  ".length;i++){var s="'\"`.,:;{}[]&<>=~*%\\|/-+!?@^  ".charAt(i);if(e.indexOf(s)>-1)return!1}break;case"number":for(i=0;i<e.length;i++)if(-1==="0123456789".indexOf(e.charAt(i)))if(0===i){if("-"!==e.charAt(0))return!1}else if("."!==e.charAt(i))return!1;break;case"symbol":if(e.length>1)return!1;if(-1==="{[:]},".indexOf(e))return!1;break;case"colon":if(e.length>1)return!1;if(":"!==e)return!1;break;default:return!0}return!0},c=function(){var e=k.tokens_normalize.length-1;if(e<1)return!1;for(var t=e;t>=0;t--){var n=k.tokens_normalize[t];switch(n.type){case"space":case"linebreak":break;default:return n}}return!1},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Q={token:e,line:H,reason:t},k.tokens_merge[e+n].type="error"},f=function(e,t){if(void 0===e&&console.error("tokenID argument must be an integer."),void 0===t&&console.error("options argument must be an array."),e===k.tokens_merge.length-1)return!1;for(var n=e+1;n<k.tokens_merge.length;n++){var r=k.tokens_merge[n];switch(r.type){case"space":case"linebreak":break;case"symbol":case"colon":return t.indexOf(r.string)>-1&&n;default:return!1}}return!1},d=function(e,t){if(void 0===e&&console.error("tokenID argument must be an integer."),void 0===t&&console.error("options argument must be an array."),0===e)return!1;for(var n=e-1;n>=0;n--){var r=k.tokens_merge[n];switch(r.type){case"space":case"linebreak":break;case"symbol":case"colon":return t.indexOf(r.string)>-1;default:return!1}}return!1},p=function(e){if(void 0===e&&console.error("tokenID argument must be an integer."),0===e)return!1;for(var t=e-1;t>=0;t--){var n=k.tokens_merge[t];switch(n.type){case"space":case"linebreak":break;default:return n.type}}return!1},g=function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Te++,De>0||e?"<br>":""}(arguments.length>0&&void 0!==arguments[0]&&arguments[0])+function(){for(var e=[],t=0;t<2*De;t++)e.push("&nbsp;");return e.join("")}()},v=e.cloneNode(!0);if(!v.hasChildNodes())return"";for(var h=v.childNodes,k={tokens_unknown:[],tokens_proto:[],tokens_split:[],tokens_fallback:[],tokens_normalize:[],tokens_merge:[],tokens_plainText:"",indented:"",json:"",jsObject:void 0,markup:""},m=0;m<h.length;m++){var b=h[m],y={};switch(b.nodeName){case"SPAN":y={string:b.textContent,type:b.attributes.type.textContent},k.tokens_unknown.push(y);break;case"DIV":k.tokens_unknown.push({string:b.textContent,type:"unknown"});break;case"BR":""===b.textContent&&k.tokens_unknown.push({string:"\n",type:"unknown"});break;case"#text":k.tokens_unknown.push({string:b.wholeText,type:"unknown"});break;case"FONT":k.tokens_unknown.push({string:b.textContent,type:"unknown"});break;default:console.error("Unrecognized node:",{child:b})}}for(m=0;m<k.tokens_unknown.length;m++){var _=k.tokens_unknown[m];k.tokens_proto=k.tokens_proto.concat(i(_.string,"proto"))}for(m=0;m<k.tokens_proto.length;m++){var w=k.tokens_proto[m];-1===w.type.indexOf("proto")?l(w.string,w.type)?k.tokens_split.push(w):k.tokens_split=k.tokens_split.concat(i(w.string,"split")):k.tokens_split.push(w)}for(m=0;m<k.tokens_split.length;m++){var x=k.tokens_split[m],O=x.type,C=x.string,T=C.length,D=[];O.indexOf("-")>-1&&("string"!==(O=O.slice(O.indexOf("-")+1))&&D.push("string"),D.push("key"),D.push("error"));var S={string:C,length:T,type:O,fallback:D};k.tokens_fallback.push(S)}var q={brackets:[],stringOpen:!1,isValue:!1};for(m=0;m<k.tokens_fallback.length;m++){var j=k.tokens_fallback[m],A=j.type,N=j.string,P={type:A,string:N};switch(A){case"symbol":case"colon":if(q.stringOpen){q.isValue?P.type="string":P.type="key";break}switch(N){case"[":case"{":q.brackets.push(N),q.isValue="["===q.brackets[q.brackets.length-1];break;case"]":case"}":q.brackets.pop(),q.isValue="["===q.brackets[q.brackets.length-1];break;case",":if("colon"===c().type)break;q.isValue="["===q.brackets[q.brackets.length-1];break;case":":P.type="colon",q.isValue=!0}break;case"delimiter":if(q.isValue?P.type="string":P.type="key",!q.stringOpen){q.stringOpen=N;break}if(m>0){var E=k.tokens_fallback[m-1],M=E.string,I=E.type,z=M.charAt(M.length-1);if("string"===I&&"\\"===z)break}if(q.stringOpen===N){q.stringOpen=!1;break}break;case"primitive":case"string":if(["false","true","null","undefined"].indexOf(N)>-1){var K=k.tokens_normalize.length-1;if(K>=0){if("string"!==k.tokens_normalize[K].type){P.type="primitive";break}P.type="string";break}P.type="primitive";break}if("\n"===N&&!q.stringOpen){P.type="linebreak";break}q.isValue?P.type="string":P.type="key";break;case"space":case"number":q.stringOpen&&(q.isValue?P.type="string":P.type="key")}k.tokens_normalize.push(P)}for(m=0;m<k.tokens_normalize.length;m++){var V=k.tokens_normalize[m],F={string:V.string,type:V.type,tokens:[m]};if(-1===["symbol","colon"].indexOf(V.type)&&m+1<k.tokens_normalize.length){for(var $=0,R=m+1;R<k.tokens_normalize.length;R++){var B=k.tokens_normalize[R];if(V.type!==B.type)break;F.string+=B.string,F.tokens.push(R),$++}m+=$}k.tokens_merge.push(F)}var U="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$",Q=!1,H=k.tokens_merge.length>0?1:0;q={brackets:[],stringOpen:!1,isValue:!1};var J=[];for(m=0;m<k.tokens_merge.length&&!Q;m++){var W=k.tokens_merge[m],Y=W.string,Z=W.type,G=!1;switch(Z){case"space":break;case"linebreak":H++;break;case"symbol":switch(Y){case"{":case"[":if(G=d(m,["}","]"])){u(m,L(n.invalidToken.tokenSequence.prohibited,{firstToken:k.tokens_merge[G].string,secondToken:Y}));break}if("["===Y&&m>0&&!d(m,[":","[",","])){u(m,L(n.invalidToken.tokenSequence.permitted,{firstToken:"[",secondToken:[":","[",","]}));break}if("{"===Y&&d(m,["{"])){u(m,L(n.invalidToken.double,{token:"{"}));break}q.brackets.push(Y),q.isValue="["===q.brackets[q.brackets.length-1],J.push({i:m,line:H,string:Y});break;case"}":case"]":if("}"===Y&&"{"!==q.brackets[q.brackets.length-1]){u(m,L(n.brace.curly.missingOpen));break}if("}"===Y&&d(m,[","])){u(m,L(n.invalidToken.tokenSequence.prohibited,{firstToken:",",secondToken:"}"}));break}if("]"===Y&&"["!==q.brackets[q.brackets.length-1]){u(m,L(n.brace.square.missingOpen));break}if("]"===Y&&d(m,[":"])){u(m,L(n.invalidToken.tokenSequence.prohibited,{firstToken:":",secondToken:"]"}));break}q.brackets.pop(),q.isValue="["===q.brackets[q.brackets.length-1],J.push({i:m,line:H,string:Y});break;case",":if(G=d(m,["{"])){if(f(m,["}"])){u(m,L(n.brace.curly.cannotWrap,{token:","}));break}u(m,L(n.invalidToken.tokenSequence.prohibited,{firstToken:"{",secondToken:","}));break}if(f(m,["}",",","]"])){u(m,L(n.noTrailingOrLeadingComma));break}switch(G=p(m)){case"key":case"colon":u(m,L(n.invalidToken.termSequence.prohibited,{firstTerm:"key"===G?n.types.key:n.symbols.colon,secondTerm:n.symbols.comma}));break;case"symbol":if(d(m,["{"])){u(m,L(n.invalidToken.tokenSequence.prohibited,{firstToken:"{",secondToken:","}));break}}q.isValue="["===q.brackets[q.brackets.length-1]}k.json+=Y;break;case"colon":if((G=d(m,["["]))&&f(m,["]"])){u(m,L(n.brace.square.cannotWrap,{token:":"}));break}if(G){u(m,L(n.invalidToken.tokenSequence.prohibited,{firstToken:"[",secondToken:":"}));break}if("key"!==p(m)){u(m,L(n.invalidToken.termSequence.permitted,{firstTerm:n.symbols.colon,secondTerm:n.types.key}));break}if(f(m,["}","]"])){u(m,L(n.invalidToken.termSequence.permitted,{firstTerm:n.symbols.colon,secondTerm:n.types.value}));break}q.isValue=!0,k.json+=Y;break;case"key":case"string":var X=Y.charAt(0),ee=Y.charAt(Y.length-1);"'\"".indexOf(X);if(-1==="'\"".indexOf(X)&&-1!=="'\"".indexOf(ee)){u(m,L(n.string.missingOpen,{quote:X}));break}if(-1==="'\"".indexOf(ee)&&-1!=="'\"".indexOf(X)){u(m,L(n.string.missingClose,{quote:X}));break}if("'\"".indexOf(X)>-1&&X!==ee){u(m,L(n.string.missingClose,{quote:X}));break}if("string"===Z&&-1==="'\"".indexOf(X)&&-1==="'\"".indexOf(ee)){u(m,L(n.string.mustBeWrappedByQuotes));break}if("key"===Z&&f(m,["}","]"])&&u(m,L(n.invalidToken.termSequence.permitted,{firstTerm:n.types.key,secondTerm:n.symbols.colon})),-1==="'\"".indexOf(X)&&-1==="'\"".indexOf(ee))for(var te=0;te<Y.length&&!Q;te++){var ne=Y.charAt(te);if(-1===U.indexOf(ne)){u(m,L(n.string.nonAlphanumeric,{token:ne}));break}}if("'"===X?Y='"'+Y.slice(1,-1)+'"':'"'!==X&&(Y='"'+Y+'"'),"key"===Z&&"key"===p(m)){if(m>0&&!isNaN(k.tokens_merge[m-1])){k.tokens_merge[m-1]+=k.tokens_merge[m],u(m,L(n.key.numberAndLetterMissingQuotes));break}u(m,L(n.key.spaceMissingQuotes));break}if("key"===Z&&!d(m,["{",","])){u(m,L(n.invalidToken.tokenSequence.permitted,{firstToken:Z,secondToken:["{",","]}));break}if("string"===Z&&!d(m,["[",":",","])){u(m,L(n.invalidToken.tokenSequence.permitted,{firstToken:Z,secondToken:["[",":",","]}));break}if("key"===Z&&q.isValue){u(m,L(n.string.unexpectedKey));break}if("string"===Z&&!q.isValue){u(m,L(n.key.unexpectedString));break}k.json+=Y;break;case"number":case"primitive":if(d(m,["{"]))k.tokens_merge[m].type="key",Z=k.tokens_merge[m].type,Y='"'+Y+'"';else if("key"===p(m))k.tokens_merge[m].type="key",Z=k.tokens_merge[m].type;else if(!d(m,["[",":",","])){u(m,L(n.invalidToken.tokenSequence.permitted,{firstToken:Z,secondToken:["[",":",","]}));break}"key"!==Z&&(q.isValue||(k.tokens_merge[m].type="key",Z=k.tokens_merge[m].type,Y='"'+Y+'"')),"primitive"===Z&&"undefined"===Y&&u(m,L(n.invalidToken.useInstead,{badToken:"undefined",goodToken:"null"})),k.json+=Y}}var re="";for(m=0;m<k.json.length;m++){var ae=k.json.charAt(m),ie="";m+1<k.json.length&&(ie=k.json.charAt(m+1),"\\"===ae&&"'"===ie)?(re+=ie,m++):re+=ae}if(k.json=re,!Q){for(var se=Math.ceil(J.length/2),oe=0,le=!1;J.length>0;){le=!1;for(var ce=0;ce<J.length-1;ce++){var ue=J[ce].string+J[ce+1].string;["[]","{}"].indexOf(ue)>-1&&(t=ce,J.splice(t+1,1),J.splice(t,1),le||(le=!0))}if(oe++,!le)break;if(oe>=se)break}if(J.length>0){var fe=J[0].string,de=J[0].i,pe="["===fe?"]":"}";H=J[0].line,u(de,L(n.brace["]"===pe?"square":"curly"].missingClose))}}if(!Q&&-1===[void 0,""].indexOf(k.json))try{k.jsObject=JSON.parse(k.json)}catch(e){var ge=e.message,ve=ge.indexOf("position");if(-1===ve)throw new Error("Error parsing failed");for(var he=ge.substring(ve+9,ge.length),ke=parseInt(he),me=0,be=0,ye=!1,_e=1,we=!1;me<ke&&!we&&("linebreak"===(ye=k.tokens_merge[be]).type&&_e++,-1===["space","linebreak"].indexOf(ye.type)&&(me+=ye.string.length),!(me>=ke));)be++,k.tokens_merge[be+1]||(we=!0);H=_e;for(var xe=0,Oe=0;Oe<ye.string.length;Oe++){var Ce=ye.string.charAt(Oe);"\\"===Ce?xe=xe>0?xe+1:1:(xe%2==0&&0!==xe||-1==="'\"bfnrt".indexOf(Ce)&&u(be,L(n.invalidToken.unexpected,{token:"\\"})),xe=0)}Q||u(be,L(n.invalidToken.unexpected,{token:ye.string}))}var Te=1,De=0;if(!Q)for(m=0;m<k.tokens_merge.length;m++){var Se=k.tokens_merge[m],qe=Se.string;switch(Se.type){case"space":case"linebreak":break;case"string":case"number":case"primitive":case"error":k.markup+=(d(m,[",","["])?g():"")+r(m,Se,De);break;case"key":k.markup+=g()+r(m,Se,De);break;case"colon":k.markup+=r(m,Se,De)+"&nbsp;";break;case"symbol":switch(qe){case"[":case"{":k.markup+=(d(m,[":"])?"":g())+r(m,Se,De),De++;break;case"]":case"}":De--;var je=m===k.tokens_merge.length-1,Ae=m>0?["[","{"].indexOf(k.tokens_merge[m-1].string)>-1?"":g(je):"";k.markup+=Ae+r(m,Se,De);break;case",":k.markup+=r(m,Se,De)}}}if(Q){var Le=function(e){for(var t=0,n=0;n<e.length;n++)["\n","\r"].indexOf(e[n])>-1&&t++;return t},Ne=1;Te=1;for(m=0;m<k.tokens_merge.length;m++){var Pe=k.tokens_merge[m],Ee=Pe.type,Me=Pe.string;"linebreak"===Ee&&Te++,k.markup+=r(m,Pe,De),Ne+=Le(Me)}++Te<++Ne&&(Te=Ne)}for(m=0;m<k.tokens_merge.length;m++){var Ie=k.tokens_merge[m];k.indented+=Ie.string,-1===["space","linebreak"].indexOf(Ie.type)&&(k.tokens_plainText+=Ie.string)}if(Q);return{tokens:k.tokens_merge,noSpaces:k.tokens_plainText,indented:k.indented,jsString:k.json,jsObject:k.jsObject,markup:k.markup,lines:Te,error:Q}}if(!("nodeType"in e)){var ze=function(e,t){return e.slice(0,t)+e.slice(t+1)},Ke=function(){if(-1==="'\"".indexOf(Ue.currentChar))return!1;if(!Ue.stringOpen)return Fe(),Ue.stringStart=Ue.position,Ue.stringOpen=Ue.currentChar,!0;if(Ue.stringOpen===Ue.currentChar){Fe();var e=Ue.inputText.substring(Ue.stringStart,Ue.position+1);return $e(e),Ue.stringOpen=!1,!0}return!1},Ve=function(){if(-1===":,{}[]".indexOf(Ue.currentChar))return!1;if(Ue.stringOpen)return!1;switch(Fe(),$e(Ue.currentChar),Ue.currentChar){case":":return Ue.isValue=!0,!0;case"{":case"[":Ue.brackets.push(Ue.currentChar);break;case"}":case"]":Ue.brackets.pop()}return":"!==Ue.currentChar&&(Ue.isValue="["===Ue.brackets[Ue.brackets.length-1]),!0},Fe=function(){return 0!==Ue.tokenSecondary.length&&(Ue.tokens.push(Ue.tokenSecondary),Ue.tokenSecondary="",!0)},$e=function(e){return 0!==e.length&&(Ue.tokens.push(e),!0)},Re=function(e){for(var t=[],n=0;n<2*e;n++)t.push(" ");return(e>0?"\n":"")+t.join("")},Be=function(e){var t=[];e>0&&tt++;for(var n=0;n<2*e;n++)t.push("&nbsp;");return(e>0?"<br>":"")+t.join("")},Ue={inputText:a()(e),position:0,currentChar:"",tokenPrimary:"",tokenSecondary:"",brackets:[],isValue:!1,stringOpen:!1,stringStart:0,tokens:[]};for(m=0;m<Ue.inputText.length;m++){Ue.position=m,Ue.currentChar=Ue.inputText.charAt(Ue.position);var Qe=Ve(),He=Ke(),Je="\\"===Ue.currentChar&&(Ue.inputText=ze(Ue.inputText,Ue.position),!0);Qe||He||Je||Ue.stringOpen||(Ue.tokenSecondary+=Ue.currentChar)}var We={brackets:[],isValue:!1,tokens:[]};We.tokens=Ue.tokens.map(function(e){var t="",n="",r="";switch(e){case",":t="symbol",n=e,r=e,We.isValue="["===We.brackets[We.brackets.length-1];break;case":":t="symbol",n=e,r=e,We.isValue=!0;break;case"{":case"[":t="symbol",n=e,r=e,We.brackets.push(e),We.isValue="["===We.brackets[We.brackets.length-1];break;case"}":case"]":t="symbol",n=e,r=e,We.brackets.pop(),We.isValue="["===We.brackets[We.brackets.length-1];break;case"undefined":t="primitive",n=e,r=void 0;break;case"null":t="primitive",n=e,r=null;break;case"false":t="primitive",n=e,r=!1;break;case"true":t="primitive",n=e,r=!0;break;default:var a=e.charAt(0);if("'\"".indexOf(a)>-1){if("key"===(t=We.isValue?"string":"key")&&(n=function(e){if(0===e.length)return e;if(['""',"''"].indexOf(e)>-1)return"''";for(var t=!1,n=0;n<2;n++)if([e.charAt(0),e.charAt(e.length-1)].indexOf(['"',"'"][n])>-1){t=!0;break}t&&e.length>=2&&(e=e.slice(1,-1));var r=e.replace(/\w/g,""),a=(e.replace(/\W+/g,""),function(e,t){for(var n=!1,r=0;r<t.length&&(0!==r||!isNaN(t.charAt(r)));r++)if(isNaN(t.charAt(r))){n=!0;break}return!(e.length>0||n)}(r,e));if(function(e){for(var t=0;t<e.length;t++)if(["'",'"'].indexOf(e.charAt(t))>-1)return!0;return!1}(r)){for(var i="",s=e.split(""),o=0;o<s.length;o++){var l=s[o];["'",'"'].indexOf(l)>-1&&(l="\\"+l),i+=l}e=i}return a?e:"'"+e+"'"}(e)),"string"===t){n="";for(var i=e.slice(1,-1).split(""),s=0;s<i.length;s++){var o=i[s];"'\"".indexOf(o)>-1&&(o="\\"+o),n+=o}n="'"+n+"'"}r=n;break}if(!isNaN(e)){t="number",n=e,r=Number(e);break}if(e.length>0&&!We.isValue){t="key",(n=e).indexOf(" ")>-1&&(n="'"+n+"'"),r=n;break}}return{type:t,string:n,value:r,depth:We.brackets.length}});var Ye="";for(m=0;m<We.tokens.length;m++){Ye+=We.tokens[m].string}var Ze="";for(m=0;m<We.tokens.length;m++){var Ge=We.tokens[m];switch(Ge.string){case"[":case"{":var Xe=m<We.tokens.length-1-1?We.tokens[m+1]:"";-1==="}]".indexOf(Xe.string)?Ze+=Ge.string+Re(Ge.depth):Ze+=Ge.string;break;case"]":case"}":var et=m>0?We.tokens[m-1]:"";-1==="[{".indexOf(et.string)?Ze+=Re(Ge.depth)+Ge.string:Ze+=Ge.string;break;case":":Ze+=Ge.string+" ";break;case",":Ze+=Ge.string+Re(Ge.depth);break;default:Ze+=Ge.string}}var tt=1,nt="",rt=We.tokens.length-1;for(m=0;m<We.tokens.length;m++){var at=We.tokens[m],it=r(m,at,at.depth);switch(at.string){case"{":case"[":var st=m<We.tokens.length-1-1?We.tokens[m+1]:"";-1==="}]".indexOf(st.string)?nt+=it+Be(at.depth):nt+=it;break;case"}":case"]":var ot=m>0?We.tokens[m-1]:"";-1==="[{".indexOf(ot.string)?nt+=Be(at.depth)+(rt===m?"<br>":"")+it:nt+=it;break;case":":nt+=it+" ";break;case",":nt+=it+Be(at.depth);break;default:nt+=it}}return tt+=2,{tokens:We.tokens,noSpaces:Ye,indented:Ze,jsString:a()(e),jsObject:e,markup:nt,lines:tt}}}},mounted:function(){this.updateTime=!1,this.timer=setInterval(this.scheduledUpdate,100),this.initData(this.value)},beforeDestroy:function(){this.timer&&clearInterval(this.timer)}},P={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"outer-box"},[n("div",{staticClass:"confirm-sign",style:{opacity:e.error?0:1}},[n("svg",{attrs:{height:"20px",width:"20px",viewBox:"0 0 100 100"}},[n("path",{attrs:{fillRule:"evenodd",clipRule:"evenodd",fill:"green",opacity:"0.85",d:"M39.363,79L16,55.49l11.347-11.419L39.694,56.49L72.983,23L84,34.085L39.363,79z"}})])]),e._v(" "),n("div",{staticClass:"container"},[e.error?n("div",{staticClass:"warning-box",style:{backgroundColor:e.colors.background_warning}},[n("div",{staticClass:"warning-sign-part"},[n("div",{staticClass:"warning-sign-box"},[n("div",{staticClass:"warning-sign"},[n("svg",{attrs:{height:"20px",width:"20px",viewBox:"0 0 100 100"}},[n("path",{attrs:{fillRule:"evenodd",clipRule:"evenodd",fill:"red",d:"M73.9,5.75c0.467-0.467,1.067-0.7,1.8-0.7c0.7,0,1.283,0.233,1.75,0.7l16.8,16.8  c0.467,0.5,0.7,1.084,0.7,1.75c0,0.733-0.233,1.334-0.7,1.801L70.35,50l23.9,23.95c0.5,0.467,0.75,1.066,0.75,1.8  c0,0.667-0.25,1.25-0.75,1.75l-16.8,16.75c-0.534,0.467-1.117,0.7-1.75,0.7s-1.233-0.233-1.8-0.7L50,70.351L26.1,94.25  c-0.567,0.467-1.167,0.7-1.8,0.7c-0.667,0-1.283-0.233-1.85-0.7L5.75,77.5C5.25,77,5,76.417,5,75.75c0-0.733,0.25-1.333,0.75-1.8  L29.65,50L5.75,26.101C5.25,25.667,5,25.066,5,24.3c0-0.666,0.25-1.25,0.75-1.75l16.8-16.8c0.467-0.467,1.05-0.7,1.75-0.7  c0.733,0,1.333,0.233,1.8,0.7L50,29.65L73.9,5.75z"}})])])])]),e._v(" "),n("span",{staticClass:"warning-message-part"},[n("p",{staticClass:"warning-message"},[e._v("\n                    "+e._s(e.renderErrorMessage())+"\n                ")])])]):e._e(),e._v(" "),n("div",{staticClass:"main-body",style:{height:e.error?"calc( 100% - 60px )":"100%"},attrs:{name:"body"}},[n("span",{ref:"refLabels",staticClass:"main-body-label",attrs:{name:"labels"}},e._l(e.labels,function(t){return n("div",{key:t+Math.random(),style:{color:e.error.line===t?"red":e.colors.default}},[e._v(e._s(t))])}),0),e._v(" "),n("span",{ref:"refContent",staticClass:"main-body-content",attrs:{contentEditable:!0,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off"},domProps:{innerHTML:e._s(e.markup)},on:{keydown:e.onKeyDown,click:e.onClick,blur:e.onBlur,paste:e.onPaste,keypress:e.onKeyPress,scroll:e.onScroll}})])])])},staticRenderFns:[]};var E=n("VU/8")(N,P,!1,function(e){n("vo//")},"data-v-2bf6fcdd",null).exports;t.a=E},mvHQ:function(e,t,n){e.exports={default:n("qkKv"),__esModule:!0}},qkKv:function(e,t,n){var r=n("FeBl"),a=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},uqUo:function(e,t,n){var r=n("kM2E"),a=n("FeBl"),i=n("S82l");e.exports=function(e,t){var n=(a.Object||{})[e]||Object[e],s={};s[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",s)}},"vo//":function(e,t){}});